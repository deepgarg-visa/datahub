# 1. Action Pipeline Name
name: "default_role"
# 2. Event Source: Where to source event from.
source:
  type: "kafka"
  config:
    connection:
      bootstrap: broker:29092
      schema_registry_url: http://schema-registry:8081
      
# 3. Action: What action to take on events. 
action:
  type: "default_role:DefaultRoleAction"
  config:
    gms_token: ""
    gms_host: "datahub-gms"
    gms_port: "8080"
    gms_scheme: "http"
    role: "urn:li:dataHubRole:Reader"

filter: 
  event_type: "MetadataChangeLogEvent_v1"
  event: 
    aspectName: "corpUserKey"
    entityType: "corpuser"
    changeType: "UPSERT"

